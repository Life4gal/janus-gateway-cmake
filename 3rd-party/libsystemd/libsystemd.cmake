pkg_check_modules(LIB_LIBSYSTEMD QUIET libsystemd)

if (NOT ${LIB_LIBSYSTEMD_FOUND})
	message(FATAL_ERROR "Cannot find libsystemd on your platform, install it first...")
endif (NOT ${LIB_LIBSYSTEMD_FOUND})

set(CACHE_LIBSYSTEMD "libsystemd" CACHE INTERNAL "libsystemd." FORCE)
set(CACHE_LIBSYSTEMD_LIBRARIES ${LIB_LIBSYSTEMD_LIBRARIES} CACHE INTERNAL "libsystemd." FORCE)
set(CACHE_LIBSYSTEMD_DIRECTORIES ${LIB_LIBSYSTEMD_LIBRARY_DIRS} CACHE INTERNAL "libsystemd." FORCE)
set(CACHE_LIBSYSTEMD_LIBRARY_NAME ${LIB_LIBSYSTEMD_LIBRARIES}-${LIB_LIBSYSTEMD_VERSION} CACHE INTERNAL "libsystemd." FORCE)
set(CACHE_LIBSYSTEMD_INCLUDE_DIRECTORIES ${LIB_LIBSYSTEMD_INCLUDE_DIRS} CACHE INTERNAL "libsystemd." FORCE)
set(CACHE_LIBSYSTEMD_COMPILE_FLAGS ${LIB_LIBSYSTEMD_CFLAGS} CACHE INTERNAL "libsystemd." FORCE)
set(CACHE_LIBSYSTEMD_LD_FLAGS ${LIB_LIBSYSTEMD_LDFLAGS} CACHE INTERNAL "libsystemd." FORCE)
