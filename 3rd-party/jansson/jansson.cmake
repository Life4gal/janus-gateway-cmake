pkg_check_modules(LIB_JANSSON QUIET jansson>=2.5)

if (NOT ${LIB_JANSSON_FOUND})
	message(FATAL_ERROR "Cannot find jansson on your platform, install it first...")
endif (NOT ${LIB_JANSSON_FOUND})

set(CACHE_JANSSON "jansson" CACHE INTERNAL "jansson." FORCE)
set(CACHE_JANSSON_LIBRARIES ${LIB_JANSSON_LIBRARIES} CACHE INTERNAL "jansson." FORCE)
set(CACHE_JANSSON_DIRECTORIES ${LIB_JANSSON_LIBRARY_DIRS} CACHE INTERNAL "jansson." FORCE)
set(CACHE_JANSSON_LIBRARY_NAME ${LIB_JANSSON_LIBRARIES}-${LIB_JANSSON_VERSION} CACHE INTERNAL "jansson." FORCE)
set(CACHE_JANSSON_INCLUDE_DIRECTORIES ${LIB_JANSSON_INCLUDE_DIRS} CACHE INTERNAL "jansson." FORCE)
set(CACHE_JANSSON_COMPILE_FLAGS ${LIB_JANSSON_CFLAGS} CACHE INTERNAL "jansson." FORCE)
set(CACHE_JANSSON_LD_FLAGS ${LIB_JANSSON_LDFLAGS} CACHE INTERNAL "jansson." FORCE)
