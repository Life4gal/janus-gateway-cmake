function(try_use_ogg)
	if (NOT JANUS_PLUGIN_VOICE_MAIL AND NOT JANUS_PLUGIN_VOICE_MAIL_TRY_USE)
		return()
	endif (NOT JANUS_PLUGIN_VOICE_MAIL AND NOT JANUS_PLUGIN_VOICE_MAIL_TRY_USE)

	pkg_check_modules(LIB_OGG ogg)

	if (NOT LIB_OGG_FOUND)
		if (JANUS_PLUGIN_AUDIO_BRIDGE)
			message(FATAL_ERROR "OGG not found. See README.md for installation instructions or set JANUS_PLUGIN_VOICE_MAIL off")
		elseif (JANUS_PLUGIN_AUDIO_BRIDGE_TRY_USE)
			return()
		endif (JANUS_PLUGIN_AUDIO_BRIDGE)
	endif (NOT LIB_OGG_FOUND)

	set(CACHE_OGG "ogg" CACHE INTERNAL "ogg." FORCE)
	set(CACHE_OGG_LIBRARIES ${LIB_OGG_LIBRARIES} CACHE INTERNAL "ogg." FORCE)
	set(CACHE_OGG_DIRECTORIES ${LIB_OGG_LIBRARY_DIRS} CACHE INTERNAL "ogg." FORCE)
	set(CACHE_OGG_LIBRARY_NAME ${LIB_OGG_LIBRARIES}-${LIB_OGG_VERSION} CACHE INTERNAL "ogg." FORCE)
	set(CACHE_OGG_INCLUDE_DIRECTORIES ${LIB_OGG_INCLUDE_DIRS} CACHE INTERNAL "ogg." FORCE)
	set(CACHE_OGG_COMPILE_FLAGS ${LIB_OGG_CFLAGS} CACHE INTERNAL "ogg." FORCE)
	set(CACHE_OGG_LD_FLAGS ${LIB_OGG_LDFLAGS} CACHE INTERNAL "ogg." FORCE)
endfunction(try_use_ogg)

try_use_ogg()
